function NewsList(){}NewsList.prototype.run=function(){this.listenSubmitEvent()},NewsList.prototype.listenSubmitEvent=function(){var n=$(".submit-btn"),s=$("textarea[name='comment']");n.click(function(){var t=s.val(),e=n.attr("data-news-id");xfzajax.post({url:"/news/public_comment/",data:{content:t,news_id:e},success:function(t){if(200===t.code){var e=t.data,n=template("comment-item",{comment:e});$(".comment-list").prepend(n),window.messageBox.showSuccess("评论发表成功！"),s.val("")}else window.messageBox.showError(t.message)}})})},$(function(){(new NewsList).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5ld3NfZGV0YWlsLmpzIl0sIm5hbWVzIjpbIk5ld3NMaXN0IiwicHJvdG90eXBlIiwicnVuIiwidGhpcyIsImxpc3RlblN1Ym1pdEV2ZW50Iiwic3VibWl0QnRuIiwiJCIsInRleHRhcmVhIiwiY2xpY2siLCJjb250ZW50IiwidmFsIiwibmV3c19pZCIsImF0dHIiLCJ4ZnphamF4IiwicG9zdCIsInVybCIsImRhdGEiLCJzdWNjZXNzIiwicmVzdWx0IiwiY29tbWVudCIsInRwbCIsInRlbXBsYXRlIiwicHJlcGVuZCIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93U3VjY2VzcyIsInNob3dFcnJvciJdLCJtYXBwaW5ncyI6IkFBQ0EsU0FBU0EsWUFJVEEsU0FBU0MsVUFBVUMsSUFBTSxXQUNWQyxLQUNOQyxxQkFLVEosU0FBU0MsVUFBVUcsa0JBQW9CLFdBQ25DLElBQUlDLEVBQVlDLEVBQUUsZUFDZEMsRUFBV0QsRUFBRSw0QkFDakJELEVBQVVHLE1BQU0sV0FDWixJQUFJQyxFQUFVRixFQUFTRyxNQUNuQkMsRUFBVU4sRUFBVU8sS0FBSyxnQkFDN0JDLFFBQVFDLEtBQUssQ0FDVEMsSUFBTSx3QkFDTkMsS0FBTyxDQUNIUCxRQUFVQSxFQUNWRSxRQUFVQSxHQUVkTSxRQUFVLFNBQVVDLEdBQ2hCLEdBQXVCLE1BQW5CQSxFQUFhLEtBQVUsQ0FDdkIsSUFBSUMsRUFBVUQsRUFBYSxLQUN2QkUsRUFBTUMsU0FBUyxlQUFlLENBQUNGLFFBQVVBLElBQ3RCYixFQUFFLGlCQUNSZ0IsUUFBUUYsR0FDekJHLE9BQU9DLFdBQVdDLFlBQVksV0FDOUJsQixFQUFTRyxJQUFJLFNBR2JhLE9BQU9DLFdBQVdFLFVBQVVSLEVBQWdCLGVBUWhFWixFQUFFLFlBQ2lCLElBQUlOLFVBQ1ZFIiwiZmlsZSI6Im5ld3NfZGV0YWlsLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8v5paw6Ze76K+E6K66XHJcbmZ1bmN0aW9uIE5ld3NMaXN0KCl7XHJcblxyXG59XHJcblxyXG5OZXdzTGlzdC5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgc2VsZi5saXN0ZW5TdWJtaXRFdmVudCgpXHJcblxyXG59O1xyXG5cclxuLy/nm5HlkKzmj5DkuqTmjInpkq5cclxuTmV3c0xpc3QucHJvdG90eXBlLmxpc3RlblN1Ym1pdEV2ZW50ID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBzdWJtaXRCdG4gPSAkKCcuc3VibWl0LWJ0bicpO1xyXG4gICAgdmFyIHRleHRhcmVhID0gJChcInRleHRhcmVhW25hbWU9J2NvbW1lbnQnXVwiKVxyXG4gICAgc3VibWl0QnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgY29udGVudCA9IHRleHRhcmVhLnZhbCgpXHJcbiAgICAgICAgdmFyIG5ld3NfaWQgPSBzdWJtaXRCdG4uYXR0cignZGF0YS1uZXdzLWlkJyk7XHJcbiAgICAgICAgeGZ6YWpheC5wb3N0KHtcclxuICAgICAgICAgICAgJ3VybCc6Jy9uZXdzL3B1YmxpY19jb21tZW50LycsXHJcbiAgICAgICAgICAgICdkYXRhJzp7XHJcbiAgICAgICAgICAgICAgICAnY29udGVudCc6Y29udGVudCxcclxuICAgICAgICAgICAgICAgICduZXdzX2lkJzpuZXdzX2lkXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbW1lbnQgPSByZXN1bHRbJ2RhdGEnXTtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdHBsID0gdGVtcGxhdGUoJ2NvbW1lbnQtaXRlbScse1wiY29tbWVudFwiOmNvbW1lbnR9KVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb21tZW50TGlzdEdyb3VwID0gJCgnLmNvbW1lbnQtbGlzdCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbW1lbnRMaXN0R3JvdXAucHJlcGVuZCh0cGwpO1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dTdWNjZXNzKFwi6K+E6K665Y+R6KGo5oiQ5Yqf77yBXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRleHRhcmVhLnZhbChcIlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93RXJyb3IocmVzdWx0WydtZXNzYWdlJ10pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSlcclxufVxyXG5cclxuXHJcbiQoZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIG5ld3NMaXN0ID0gbmV3IE5ld3NMaXN0KCk7XHJcbiAgICBuZXdzTGlzdC5ydW4oKVxyXG59KSJdfQ==
