function Banners(){}Banners.prototype.run=function(){this.listenAddBannerEvent(),this.loadData()},Banners.prototype.createBannerItem=function(n){var e=this,a=template("banner-item",{banner:n}),t=$(".banner-list-group"),r=null;r=n?(t.append(a),t.find(".banner-item:last")):(t.prepend(a),t.find(".banner-item:first")),e.addImageSelectEvent(r),e.addRemoveBannerEvent(r),e.addSaveBannerEvent(r)},Banners.prototype.loadData=function(){var r=this;xfzajax.get({url:"/cms/banner_list/",success:function(n){for(var e=n.data,a=0;a<e.length;a++){var t=e[a];r.createBannerItem(t)}}})},Banners.prototype.listenAddBannerEvent=function(){var n=this;$("#add-banner-btn").click(function(){6<=$(".banner-list-group").children().length?window.messageBox.showInfo("最多只能添加6张轮播图"):n.createBannerItem()})},Banners.prototype.addImageSelectEvent=function(n){var a=n.find(".thumbnail"),e=n.find(".image-input");a.click(function(){e.click()}),e.change(function(){var n=this.files[0],e=new FormData;e.append("file",n),xfzajax.post({url:"/cms/upload_file/",data:e,processData:!1,contentType:!1,success:function(n){if(200===n.code){var e=n.data.url;a.attr("src",e)}}})})},Banners.prototype.addRemoveBannerEvent=function(e){e.find(".close-btn").click(function(){var n=e.attr("data-banner-id");n?xfzalert.alertConfirm({text:"您确定要删除轮播图吗？",confirmCallback:function(){xfzajax.post({url:"/cms/delete_banner/",data:{banner_id:n},success:function(n){200===n.code&&(e.remove(),window.messageBox.showSuccess("轮播图删除成功！"))}})}}):e.remove()})},Banners.prototype.addSaveBannerEvent=function(t){var n=$(".save-btn"),r=t.find(".thumbnail"),i=t.find("input[name='priority']"),o=t.find("input[name='link_to']"),s=t.find("span[class='priority']"),c=t.attr("data-banner-id");url=c?"/cms/edit_banner/":"/cms/add_banner/",n.click(function(){var n=r.attr("src"),e=i.val(),a=o.val();xfzajax.post({url:url,data:{image_url:n,priority:e,link_to:a,pk:c},success:function(n){200===n.code&&(c?window.messageBox.showSuccess("轮播图修改成功！"):(c=n.data.banner_id,t.attr("data-banner-id",c),window.messageBox.showSuccess("轮播图添加完成！")),s.text("优先级："+e))}})})},$(function(){(new Banners).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImJhbm5lcnMuanMiXSwibmFtZXMiOlsiQmFubmVycyIsInByb3RvdHlwZSIsInJ1biIsInRoaXMiLCJsaXN0ZW5BZGRCYW5uZXJFdmVudCIsImxvYWREYXRhIiwiY3JlYXRlQmFubmVySXRlbSIsImJhbm5lciIsInNlbGYiLCJ0cGwiLCJ0ZW1wbGF0ZSIsImJhbm5lckxpc3RHcm91cCIsIiQiLCJiYW5uZXJJdGVtIiwiYXBwZW5kIiwiZmluZCIsInByZXBlbmQiLCJhZGRJbWFnZVNlbGVjdEV2ZW50IiwiYWRkUmVtb3ZlQmFubmVyRXZlbnQiLCJhZGRTYXZlQmFubmVyRXZlbnQiLCJ4ZnphamF4IiwiZ2V0IiwidXJsIiwic3VjY2VzcyIsInJlc3VsdCIsImJhbm5lcnMiLCJpIiwibGVuZ3RoIiwiY2xpY2siLCJjaGlsZHJlbiIsIndpbmRvdyIsIm1lc3NhZ2VCb3giLCJzaG93SW5mbyIsImltYWdlIiwiaW1hZ2VJbnB1dCIsImNoYW5nZSIsImZpbGUiLCJmaWxlcyIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJwb3N0IiwiZGF0YSIsInByb2Nlc3NEYXRhIiwiY29udGVudFR5cGUiLCJhdHRyIiwiYmFubmVySWQiLCJ4ZnphbGVydCIsImFsZXJ0Q29uZmlybSIsInRleHQiLCJjb25maXJtQ2FsbGJhY2siLCJiYW5uZXJfaWQiLCJyZW1vdmUiLCJzaG93U3VjY2VzcyIsInNhdmVCdG4iLCJpbWFnZVRhZyIsInByaW9yaXR5VGFnIiwibGlua1RvVGFnIiwicHJpb3JpdHlTcGFuIiwiaW1hZ2VfdXJsIiwicHJpb3JpdHkiLCJ2YWwiLCJsaW5rX3RvIiwicGsiXSwibWFwcGluZ3MiOiJBQUNBLFNBQVNBLFdBSVRBLFFBQVFDLFVBQVVDLElBQU0sV0FDVEMsS0FDTkMsdUJBRE1ELEtBRU5FLFlBRVRMLFFBQVFDLFVBQVVLLGlCQUFtQixTQUFTQyxHQUMxQyxJQUFJQyxFQUFPTCxLQUNQTSxFQUFNQyxTQUFTLGNBQWMsQ0FBQ0gsT0FBU0EsSUFDdkNJLEVBQWtCQyxF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aW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZnVuY3Rpb24gQmFubmVycygpIHtcclxuXHJcbn07XHJcblxyXG5CYW5uZXJzLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICBzZWxmLmxpc3RlbkFkZEJhbm5lckV2ZW50KCk7XHJcbiAgICBzZWxmLmxvYWREYXRhKCk7XHJcbn07XHJcbkJhbm5lcnMucHJvdG90eXBlLmNyZWF0ZUJhbm5lckl0ZW0gPSBmdW5jdGlvbihiYW5uZXIpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgdmFyIHRwbCA9IHRlbXBsYXRlKFwiYmFubmVyLWl0ZW1cIix7XCJiYW5uZXJcIjpiYW5uZXJ9KTtcclxuICAgIHZhciBiYW5uZXJMaXN0R3JvdXAgPSAkKCcuYmFubmVyLWxpc3QtZ3JvdXAnKTtcclxuICAgIHZhciBiYW5uZXJJdGVtID0gbnVsbDtcclxuICAgIGlmKGJhbm5lcil7XHJcbiAgICAgICAgYmFubmVyTGlzdEdyb3VwLmFwcGVuZCh0cGwpO1xyXG4gICAgICAgIGJhbm5lckl0ZW0gPSBiYW5uZXJMaXN0R3JvdXAuZmluZChcIi5iYW5uZXItaXRlbTpsYXN0XCIpO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgYmFubmVyTGlzdEdyb3VwLnByZXBlbmQodHBsKTtcclxuXHJcbiAgICAgICAgLy/mt7vliqDova7mkq3lm77lhoXnmoTkv6Hmga9cclxuICAgICAgICBiYW5uZXJJdGVtID0gYmFubmVyTGlzdEdyb3VwLmZpbmQoXCIuYmFubmVyLWl0ZW06Zmlyc3RcIik7XHJcbiAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLy/mt7vliqDlm77niYdcclxuICAgIHNlbGYuYWRkSW1hZ2VTZWxlY3RFdmVudChiYW5uZXJJdGVtKTtcclxuICAgIHNlbGYuYWRkUmVtb3ZlQmFubmVyRXZlbnQoYmFubmVySXRlbSk7XHJcbiAgICBzZWxmLmFkZFNhdmVCYW5uZXJFdmVudChiYW5uZXJJdGVtKTtcclxufVxyXG5cclxuQmFubmVycy5wcm90b3R5cGUubG9hZERhdGEgPSBmdW5jdGlvbigpe1xyXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xyXG4gICAgeGZ6YWpheC5nZXQoe1xyXG4gICAgICAgICd1cmwnOicvY21zL2Jhbm5lcl9saXN0LycsXHJcbiAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgdmFyIGJhbm5lcnMgPSByZXN1bHRbJ2RhdGEnXVxyXG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7aTxiYW5uZXJzLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgdmFyIGJhbm5lciA9IGJhbm5lcnNbaV1cclxuICAgICAgICAgICAgICAgIHNlbGYuY3JlYXRlQmFubmVySXRlbShiYW5uZXIpO1xyXG5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pXHJcbn07XHJcblxyXG4vL+a3u+WKoOi9ruaSreWbvlxyXG5CYW5uZXJzLnByb3RvdHlwZS5saXN0ZW5BZGRCYW5uZXJFdmVudCA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgc2VsZiA9IHRoaXM7XHJcbiAgICB2YXIgYWRkQmFubmVyID0gJCgnI2FkZC1iYW5uZXItYnRuJyk7XHJcbiAgICBhZGRCYW5uZXIuY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBiYW5uZXJMaXN0R3JvdXAgPSAkKCcuYmFubmVyLWxpc3QtZ3JvdXAnKTtcclxuICAgICAgICB2YXIgbGVuZ3RoID0gYmFubmVyTGlzdEdyb3VwLmNoaWxkcmVuKCkubGVuZ3RoO1xyXG4gICAgICAgIGlmKGxlbmd0aD49Nikge1xyXG4gICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93SW5mbyhcIuacgOWkmuWPquiDvea3u+WKoDblvKDova7mkq3lm75cIilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBzZWxmLmNyZWF0ZUJhbm5lckl0ZW0oKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSlcclxuXHJcblxyXG59XHJcblxyXG4vL+a3u+WKoOi9ruaSreWbvuWbvueJh1xyXG5CYW5uZXJzLnByb3RvdHlwZS5hZGRJbWFnZVNlbGVjdEV2ZW50ID0gZnVuY3Rpb24oYmFubmVySXRlbSl7XHJcbiAgICB2YXIgaW1hZ2UgPSBiYW5uZXJJdGVtLmZpbmQoJy50aHVtYm5haWwnKTtcclxuICAgIHZhciBpbWFnZUlucHV0ID0gYmFubmVySXRlbS5maW5kKCcuaW1hZ2UtaW5wdXQnKTtcclxuICAgIC8v5paH5Lu25LiN6IO95omT5byA5paH5Lu26YCJ5oup5qGG77yM5Y+q6IO96YCa6L+HaW5wdXRcclxuICAgIGltYWdlLmNsaWNrKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpbWFnZUlucHV0LmNsaWNrKClcclxuICAgIH0pXHJcbiAgICBpbWFnZUlucHV0LmNoYW5nZShmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGZpbGUgPSB0aGlzLmZpbGVzWzBdO1xyXG4gICAgICAgIHZhciBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZChcImZpbGVcIixmaWxlKVxyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOicvY21zL3VwbG9hZF9maWxlLycsXHJcbiAgICAgICAgICAgICdkYXRhJzpmb3JtRGF0YSxcclxuICAgICAgICAgICAgJ3Byb2Nlc3NEYXRhJzpmYWxzZSxcclxuICAgICAgICAgICAgJ2NvbnRlbnRUeXBlJzpmYWxzZSxcclxuICAgICAgICAgICAgJ3N1Y2Nlc3MnOmZ1bmN0aW9uIChyZXN1bHQpIHtcclxuICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB1cmwgPSByZXN1bHRbJ2RhdGEnXVsndXJsJ107XHJcbiAgICAgICAgICAgICAgICAgICAgaW1hZ2UuYXR0cignc3JjJyx1cmwpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICB9KVxyXG59XHJcblxyXG4vL+i9ruaSreWbvuWIoOmZpOS6i+S7tlxyXG5CYW5uZXJzLnByb3RvdHlwZS5hZGRSZW1vdmVCYW5uZXJFdmVudCA9IGZ1bmN0aW9uKGJhbm5lckl0ZW0pe1xyXG4gICAgdmFyIGNsb3NlQnRuID0gYmFubmVySXRlbS5maW5kKCcuY2xvc2UtYnRuJyk7XHJcblxyXG4gICAgY2xvc2VCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBiYW5uZXJJZCA9IGJhbm5lckl0ZW0uYXR0cignZGF0YS1iYW5uZXItaWQnKVxyXG4gICAgICAgIGlmKGJhbm5lcklkKXtcclxuICAgICAgICAgICAgeGZ6YWxlcnQuYWxlcnRDb25maXJtKHtcclxuICAgICAgICAgICAgICAgICd0ZXh0Jzon5oKo56Gu5a6a6KaB5Yig6Zmk6L2u5pKt5Zu+5ZCX77yfJyxcclxuICAgICAgICAgICAgICAgICdjb25maXJtQ2FsbGJhY2snOmZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICB4ZnphamF4LnBvc3Qoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAndXJsJzonL2Ntcy9kZWxldGVfYmFubmVyLycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICdkYXRhJzp7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnYmFubmVyX2lkJzpiYW5uZXJJZFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6ZnVuY3Rpb24gKHJlc3VsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFubmVySXRlbS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubWVzc2FnZUJveC5zaG93U3VjY2Vzcygn6L2u5pKt5Zu+5Yig6Zmk5oiQ5Yqf77yBJylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGJhbm5lckl0ZW0ucmVtb3ZlKClcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbn1cclxuXHJcbi8v5L+d5a2Y6L2u5pKt5Zu+5L+h5oGvXHJcbkJhbm5lcnMucHJvdG90eXBlLmFkZFNhdmVCYW5uZXJFdmVudCA9IGZ1bmN0aW9uKGJhbm5lckl0ZW0pe1xyXG4gICAgdmFyIHNhdmVCdG4gPSAkKCcuc2F2ZS1idG4nKVxyXG4gICAgdmFyIGltYWdlVGFnID0gYmFubmVySXRlbS5maW5kKFwiLnRodW1ibmFpbFwiKVxyXG4gICAgdmFyIHByaW9yaXR5VGFnID0gYmFubmVySXRlbS5maW5kKFwiaW5wdXRbbmFtZT0ncHJpb3JpdHknXVwiKVxyXG4gICAgdmFyIGxpbmtUb1RhZyA9IGJhbm5lckl0ZW0uZmluZChcImlucHV0W25hbWU9J2xpbmtfdG8nXVwiKVxyXG4gICAgdmFyIHByaW9yaXR5U3BhbiA9IGJhbm5lckl0ZW0uZmluZChcInNwYW5bY2xhc3M9J3ByaW9yaXR5J11cIilcclxuICAgIHZhciBiYW5uZXJJZCA9IGJhbm5lckl0ZW0uYXR0cihcImRhdGEtYmFubmVyLWlkXCIpXHJcbiAgICBpZihiYW5uZXJJZCl7XHJcbiAgICAgICAgdXJsID0gJy9jbXMvZWRpdF9iYW5uZXIvJ1xyXG4gICAgfWVsc2Uge1xyXG4gICAgICAgIHVybCA9ICcvY21zL2FkZF9iYW5uZXIvJ1xyXG4gICAgfVxyXG4gICAgc2F2ZUJ0bi5jbGljayhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGltYWdlX3VybCA9IGltYWdlVGFnLmF0dHIoJ3NyYycpO1xyXG4gICAgICAgIHZhciBwcmlvcml0eSA9IHByaW9yaXR5VGFnLnZhbCgpO1xyXG4gICAgICAgIHZhciBsaW5rX3RvID0gbGlua1RvVGFnLnZhbCgpO1xyXG4gICAgICAgIHhmemFqYXgucG9zdCh7XHJcbiAgICAgICAgICAgICd1cmwnOnVybCxcclxuICAgICAgICAgICAgJ2RhdGEnOntcclxuICAgICAgICAgICAgICAgICdpbWFnZV91cmwnOmltYWdlX3VybCxcclxuICAgICAgICAgICAgICAgICdwcmlvcml0eSc6cHJpb3JpdHksXHJcbiAgICAgICAgICAgICAgICAnbGlua190byc6bGlua190byxcclxuICAgICAgICAgICAgICAgICdwayc6YmFubmVySWQsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICdzdWNjZXNzJzpmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihiYW5uZXJJZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dTdWNjZXNzKCfova7mkq3lm77kv67mlLnmiJDlip/vvIEnKTtcclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFubmVySWQgPSByZXN1bHRbJ2RhdGEnXVsnYmFubmVyX2lkJ11cclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFubmVySXRlbS5hdHRyKCdkYXRhLWJhbm5lci1pZCcsYmFubmVySWQpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tZXNzYWdlQm94LnNob3dTdWNjZXNzKFwi6L2u5pKt5Zu+5re75Yqg5a6M5oiQ77yBXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHByaW9yaXR5U3Bhbi50ZXh0KFwi5LyY5YWI57qn77yaXCIrcHJpb3JpdHkpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pXHJcbn1cclxuXHJcblxyXG4kKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBiYW5uZXJzID0gbmV3IEJhbm5lcnMoKTtcclxuICAgIGJhbm5lcnMucnVuKClcclxufSkiXX0=
